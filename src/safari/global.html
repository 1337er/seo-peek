<!DOCTYPE html>
<html>
  <head>
    <script>
      /**
       * Before the contextual menu displays, Safari will ask to validate the command by sending a "validate" event.
       * The "validate" event handler should verify that it is appropriate to display the command.
       * In this case the menu item uses the URL of the active tab, therefore you should verify that the active tab has a URL to use.
       * If the tab is empty, the validate function should disable the menu item by setting event.target.disabled = true.
       */
      function validateCommand(event) {
        if (event.target.identifier === "showInfoToolbarItem") {
          event.target.disabled = !safari.application.activeBrowserWindow.activeTab.url;
        }
      }

      // Register for events.
      safari.application.addEventListener("validate", validateCommand, true);

    </script>
  </head>
  <body>
  </body>
</html>